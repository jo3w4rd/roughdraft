<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-MC35ML');</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Class GarbageCollector
   | Unity Technologies Developer Guide </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class GarbageCollector
   | Unity Technologies Developer Guide ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="UnityEngine.Scripting.GarbageCollector">
  
  
  <h1 id="UnityEngine_Scripting_GarbageCollector" data-uid="UnityEngine.Scripting.GarbageCollector">Class GarbageCollector
  </h1>
  <div class="markdown level0 summary"><p>API to control the garbage collector on the Mono and IL2CPP scripting backends.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><span class="xref">GarbageCollector</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="UnityEngine.Scripting.html">UnityEngine.Scripting</a></h6>
  <!--h6><strong>Assembly</strong>: cs.temp.dll.dll</h6-->
  <h5 id="UnityEngine_Scripting_GarbageCollector_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class GarbageCollector</code></pre>
  </div>
  <h5 id="UnityEngine_Scripting_GarbageCollector_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>See <a class="xref" href="UnityEngine.Scripting.GarbageCollector.html#UnityEngine_Scripting_GarbageCollector_GCMode">GarbageCollector.GCMode</a> for how to change the global garbage collector operation mode.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  
  
  <a id="UnityEngine_Scripting_GarbageCollector_GCMode_" data-uid="UnityEngine.Scripting.GarbageCollector.GCMode*"></a>
  <h4 id="UnityEngine_Scripting_GarbageCollector_GCMode" data-uid="UnityEngine.Scripting.GarbageCollector.GCMode">GCMode</h4>
  <div class="markdown level1 summary"><p>Set and get global garbage collector operation mode.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static GarbageCollector.Mode GCMode { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="UnityEngine.Scripting.GarbageCollector.Mode.html">GarbageCollector.Mode</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="UnityEngine_Scripting_GarbageCollector_GCMode_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>Setting the global operation mode changes the garbage collector behaviour for the entire application.</p>
<p>Not supported on the WebGL platform and in the Editor.</p>
<p>It is recommended that you only change the garbage collector operation mode on the application level and do not change it in third party libraries.</p>
<p>Subscribe to the <a class="xref" href="UnityEngine.Scripting.GarbageCollector.html#UnityEngine_Scripting_GarbageCollector_GCModeChanged">GarbageCollector.GCModeChanged</a> event to get notified when the garbage collector mode is changed.</p>
<p><strong>Disabling the Garbage Collector</strong>
Disabling the garbage collector by assigning <a class="xref" href="UnityEngine.Scripting.GarbageCollector.Mode.html#UnityEngine_Scripting_GarbageCollector_Mode_Disabled">GarbageCollector.Mode.Disabled</a> completely disables the garbage collector. This means that the garbage collector thread will never stop your application to perform a collection. Also, calling System.GC.Collect() will have no effect and will not start a collection. Disabling the garbage collector has to be done with great care, as continuous allocations after disabling the garbage collector will result in a continuous increase in memory usage.</p>
<p>It is recommended that you only disable the garbage collector for long lived allocations. For example, in a game you should allocate all required memory for a level and then disable the garbage collector to avoid overhead during the level. After the level is completed and all memory is released, the garbage collector can then be enabled again and System.GC.Collect() can be called to reclaim memory before loading the next level.</p>
<p>SA: <a class="xref" href="UnityEngine.Scripting.GarbageCollector.Mode.html#UnityEngine_Scripting_GarbageCollector_Mode_Enabled">GarbageCollector.Mode.Enabled</a>, <a class="xref" href="UnityEngine.Scripting.GarbageCollector.Mode.html#UnityEngine_Scripting_GarbageCollector_Mode_Disabled">GarbageCollector.Mode.Disabled</a>.</p>
</div>
  <h5 id="UnityEngine_Scripting_GarbageCollector_GCMode_examples">Examples</h5>
  <pre><code>using System;
using UnityEngine;
using UnityEngine.Scripting;

public class GarbageCollectorExample
{
    static void ListenForGCModeChange()
    {
        // Listen on garbage collector mode changes.
        GarbageCollector.GCModeChanged += (GarbageCollector.Mode mode) =&gt;
        {
            Debug.Log(&quot;GCModeChanged: &quot; + mode);
        };
    }

    static void LogMode()
    {
        Debug.Log(&quot;GCMode: &quot; + GarbageCollector.GCMode);
    }

    static void EnableGC()
    {
        GarbageCollector.GCMode = GarbageCollector.Mode.Enabled;
        // Trigger a collection to free memory.
        GC.Collect();
    }

    static void DisableGC()
    {
        GarbageCollector.GCMode = GarbageCollector.Mode.Disabled;
    }
}
</code></pre>
  
  
  <a id="UnityEngine_Scripting_GarbageCollector_incrementalTimeSliceNanoseconds_" data-uid="UnityEngine.Scripting.GarbageCollector.incrementalTimeSliceNanoseconds*"></a>
  <h4 id="UnityEngine_Scripting_GarbageCollector_incrementalTimeSliceNanoseconds" data-uid="UnityEngine.Scripting.GarbageCollector.incrementalTimeSliceNanoseconds">incrementalTimeSliceNanoseconds</h4>
  <div class="markdown level1 summary"><p>The target duration of a collection step when performing incremental garbage collection.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static ulong incrementalTimeSliceNanoseconds { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.uint64">UInt64</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="UnityEngine_Scripting_GarbageCollector_incrementalTimeSliceNanoseconds_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>When you enable incremental garbage collection, the garbage collector spreads the amount of work required to free unused memory across a number of steps. In any single step, the garbage collector limits itself to the length of time specified by ::ref::incrementalTimeSliceNanoseconds. By spreading out the workload, incremental garbage collection can help your game achieve a smoother frame rate (when garbage-collection hiccups are a problem). Use the <a href="xref:UnityEngine.Scripting.Profiler">Profiler</a> to help identify whether garbage collection has an effect on frame rate smoothness.</p>
<p>The garbage collector might still choose to perform a regular, non-incremental collection cycle if your application runs low on memory or if the incremental steps cannot keep up with the garbage collection workload. Setting too short a time slice can be counterproductive in this regard and because each garbage collection step has a small amount of overhead. The default value of 3 ms (3000000 nanoseconds) is a good starting point and the selected duration should be always be significantly shorter than your target frame rate.</p>
<p>If you turn on Vsync by setting <a href="xref:UnityEngine.Scripting.QualitySettings.vSyncCount">QualitySettings.vSyncCount</a> greater than 0 or specify a frame rate with <a href="xref:UnityEngine.Scripting.Application.targetFrameRate">Application.targetFrameRate</a>, Unity automatically uses any extra time remaining at the end of each frame for incremental garbage collection, regardless of the value of  ::ref::incrementalTimeSliceNanoseconds.</p>
<p>Note that the garbage collector uses the underlying platform timer, which can have a resolution as low as a whole millisecond. In other words, changing the value by a few nanoseconds might have no effect.</p>
<p>Enable incremental garbage collection in the <a href="xref:UnityEngine.Scripting.PlayerSettings">PlayerSettings</a> for a project. You can check whether incremental garbage collection is enabled with ::ref::IsIncremental. Manually trigger an incremental garbage collection step with ::ref::CollectIncremental.</p>
</div>
  
  
  <a id="UnityEngine_Scripting_GarbageCollector_isIncremental_" data-uid="UnityEngine.Scripting.GarbageCollector.isIncremental*"></a>
  <h4 id="UnityEngine_Scripting_GarbageCollector_isIncremental" data-uid="UnityEngine.Scripting.GarbageCollector.isIncremental">isIncremental</h4>
  <div class="markdown level1 summary"><p>Reports whether incremental garbage collection is enabled.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static bool isIncremental { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="UnityEngine_Scripting_GarbageCollector_isIncremental_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>@@IsIncremental@@  is true if incremental garbage collection is enabled in the project <a href="xref:UnityEngine.Scripting.PlayerSettings">PlayerSettings</a> and supported on the currently running platform. The value is false otherwise.</p>
<p>Set the target length of an incremental collection step with ::ref::incrementalTimeSliceNanoseconds. Manually trigger an incremental garbage collection step with ::ref::CollectIncremental.</p>
<p>SA: <a href="xref:UnityEngine.Scripting.PlayerSettings.gcIncremental">PlayerSettings.gcIncremental</a>.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  
  
  <a id="UnityEngine_Scripting_GarbageCollector_CollectIncremental_" data-uid="UnityEngine.Scripting.GarbageCollector.CollectIncremental*"></a>
  <h4 id="UnityEngine_Scripting_GarbageCollector_CollectIncremental_System_UInt64_" data-uid="UnityEngine.Scripting.GarbageCollector.CollectIncremental(System.UInt64)">CollectIncremental(UInt64)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static bool CollectIncremental(ulong nanoseconds)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.uint64">UInt64</a></td>
        <td><span class="parametername">nanoseconds</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.boolean">Boolean</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="events">Events
  </h3>
  
  
  <h4 id="UnityEngine_Scripting_GarbageCollector_GCModeChanged" data-uid="UnityEngine.Scripting.GarbageCollector.GCModeChanged">GCModeChanged</h4>
  <div class="markdown level1 summary"><p>Subscribe to this event to get notified when <a class="xref" href="UnityEngine.Scripting.GarbageCollector.html#UnityEngine_Scripting_GarbageCollector_GCMode">GarbageCollector.GCMode</a> changes.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static event Action&lt;GarbageCollector.Mode&gt; GCModeChanged</code></pre>
  </div>
  <h5 class="eventType">Event Type</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Action</span>&lt;<a class="xref" href="UnityEngine.Scripting.GarbageCollector.Mode.html">GarbageCollector.Mode</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="UnityEngine_Scripting_GarbageCollector_GCModeChanged_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>SA: <a class="xref" href="UnityEngine.Scripting.GarbageCollector.html#UnityEngine_Scripting_GarbageCollector_GCMode">GarbageCollector.GCMode</a>.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2019 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
