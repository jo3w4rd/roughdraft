<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-MC35ML');</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Mixed lighting | Unity Technologies Developer Guide </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Mixed lighting | Unity Technologies Developer Guide ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="manual">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h3 id="mixed-lighting">Mixed lighting</h3>

<p><strong>Mixed</strong> Lights are <a href="class-Light.html">Light components</a> which have their <strong>Mode</strong> property set to <strong>Mixed</strong>.  </p>
<p><strong>Mixed</strong> Lights can change their Transform and visual properties (such as colour or intensity) during run time, but only within strong limitations. They illuminate both static and dynamic GameObjects, always provide direct lighting, and can optionally provide indirect lighting. Dynamic GameObjects lit by <strong>Mixed</strong> Lights always cast real-time shadows on other dynamic GameObjects.</p>
<p>All <strong>Mixed</strong> Lights in a Scene use the same <strong>Mixed</strong> <strong>Lighting Mode</strong>. To set the <strong>Lighting Mode</strong>, open the Lighting window (menu: <strong>Window</strong> &gt; <strong>Rendering</strong> &gt; <strong>Lighting Settings</strong>), click the <strong>Scene</strong> tab, and navigate to the <strong>Mixed Lighting</strong> section. </p>
<p><img src="../uploads/Main/LightMode-Mixed-0.png" alt="The __Mixed Lighting__ section of the Lighting window"></p>
<p>The available modes are:</p>
<ul>
<li><a href="LightMode-Mixed-BakedIndirect.html">Baked Indirect</a></li>
<li><a href="LightMode-Mixed-ShadowmaskMode.html">Shadowmask</a></li>
<li><a href="LightMode-Mixed-Subtractive.html">Subtractive</a></li>
</ul>
<h4 id="using-mixed-lights">Using Mixed Lights</h4>
<p>Mixed lighting is useful for Lights that are not part of gameplay, but which illuminate the static environment (for example, a non-moving sun in the sky). Direct lighting from Mixed Lights is still calculated at run time, so Materials on static Meshes retain their visual fidelity, including full <a href="shader-StandardShader.html">physically based shading (PBS)</a> support.</p>
<p><img src="../uploads/Main/LightMode-Mixed-1.jpg" alt="An example of Mixed Lights"></p>
<p>The <strong>Shadowmask</strong> mode&#39;s <a href="LightMode-Mixed-DistanceShadowmask.html">Distance Shadowmask</a> is the most resource-intensive option, but provides the best results: it yields high-quality shadows within the <strong>Shadow Distance</strong> (<strong>Edit</strong> &gt; <strong>Project Settings</strong>, then select the <strong>Quality</strong> category, and navigate to the <strong>Shadows</strong> section), and baked high-quality shadows beyond. For example, you could create large landscapes with realistic shadows right up to the horizon, as long as the sun does not travel across the sky.</p>
<p><strong>Subtractive</strong> mode provides the lowest-quality results: it renders shadows in real time for only one Light, and composites them with baked direct and indirect lighting. Only use this as a fallback solution for target platforms that are unable to use any of the other modes (for example, when the application needs to run on low-end mobile devices, but memory constraints prevent the use of <strong>Shadowmask</strong> or <strong>Distance Shadowmask</strong>).</p>
<p>See the <a href="https://docs.google.com/spreadsheets/d/18R663xpccuyRns1kOvGAiqj0qU9QFMbbXyrOCQMsU5w/edit#gid=1748986211">Unity Lighting Modes Reference Card</a> for a condensed comparison of the various modes.</p>
<p>All Mixed Lighting Modes are supported on all platforms. However, there are some rendering limitations:</p>
<ul>
<li><p><strong>Subtractive</strong> mode falls back to <a href="RenderTech-ForwardRendering.html">forward rendering</a> (no deferred or light prepass support).</p>
</li>
<li><p><strong>Shadowmask</strong> mode falls back to <a href="RenderTech-ForwardRendering.html">forward rendering</a> (no deferred or light prepass support) on platforms which only support four render targets, such as many mobile GPUs. </p>
</li>
</ul>
<p>See documentation on <a href="RenderingPaths.html">Rendering paths</a> to learn more about forward and deferred rendering.</p>
<h4 id="advanced-use">Advanced use</h4>
<p><strong>Mixed</strong> Lights can change their Transform and visual properties (such as colour or intensity) during run time, but only within strong limitations. In fact, because some lighting is baked (and therefore precomputed), changing any parameters at run time leads to inconsistent results when combining real-time and precomputed lighting. </p>
<p>In the case of <strong>Baked Indirect</strong> and <strong>Shadowmask</strong>, the direct lighting contribution behaves just like a <strong>Realtime</strong> Light, so you can change parameters like the color, intensity and even the Transform of the Light. However, baked values are precomputed, and cannot change at run time. </p>
<p>For example: if you bake a red <strong>Mixed</strong> Light into the light map, but change its color from red to green at run time, all direct lighting switches to the green color. However, all indirect lighting is baked into the light maps, so it remains red. The same applies to moving a Mixed Light at run time - direct lighting will follow the Light, but indirect lighting will remain at the position at which the Light was baked.</p>
<p>If only subtle changes are introduced to direct lighting (for example, by only slightly modifying the hue or intensity of a Light), it is possible to get the benefits of indirect lighting and for the Light to appear somewhat dynamic, without the extra processing time required for a <strong>Realtime</strong> Light. Indirect lighting is still incorrect, but the error might be subtle enough not to be objectionable. This works especially well for Lights without precomputed shadow information. This is achieved either by having shadows disabled for the Light, or by using Baked Indirect mode where shadows are real time. As shadowmasks are part of the direct lighting computation, moving such Lights causes visual inconsistencies with shadows not lining up correctly.</p>
<p>The following video shows an example of what happens when a Mixed Light is moved too far away from the spot where it was baked. Note how the indirect red light on the walls remains in place despite the object moving far away: <a href="https://youtu.be/o6pVBqrj8-s">https://youtu.be/o6pVBqrj8-s</a> </p>
<p>The following video shows an example of how to slightly modify a Mixed Light without causing noticeable inconsistencies with indirect lighting: <a href="https://youtu.be/XN6ya31gm1I">https://youtu.be/XN6ya31gm1I</a> </p>
<h4 id="technical-details">Technical Details</h4>
<p>In the case of Mixed Lights, the last segment of a light path (that is, the path from the Light to the surface) becomes part of the precomputation as well. However, Unity still handles direct lighting and indirect lighting separately. It bakes indirect lighting into light maps and Light Probes, which are then sampled at run time. Indirect lighting is generally low frequency, meaning it looks smooth and doesn’t contain detailed shadows or light transitions. Therefore, shadows are handled with direct lighting where they have a high visible impact.</p>
<p>The difference in how shadows are precomputed and stored is reflected in the various submodes for Mixed Lights:</p>
<ul>
<li><a href="LightMode-Mixed-BakedIndirect.html">Baked Indirect</a></li>
<li><a href="LightMode-Mixed-ShadowmaskMode.html">Shadowmask</a></li>
<li><a href="LightMode-Mixed-Subtractive.html">Subtractive</a></li>
</ul>
<p>Shadow information can be precomputed and stored in a shadowmask. A shadowmask is a Texture which shares the same UV layout and resolution with its corresponding light map. It stores occlusion information for up to four Lights per texel (because Textures are limited to up to four channels on current GPUs). The values range from 0 to 1, with values in-between marking soft shadow areas. </p>
<p>If shadowmasks are enabled, Light Probes also store occlusion information for up to four Lights. If more than four Lights intersect, the excess Lights fall back to Baked Lights. You can inspect this behavior with the <a href="GIVis.html">shadowmask overlap visualization</a> mode. This information is precomputed, so the only shadows Unity stores in the shadowmask are shadows cast from static GameObjects onto other static GameObjects. These shadows can have smoother edges providing better quality than real-time shadow maps, depending on the light map resolution. Because each Mixed Light retains its shadowmask channel mapping at run time, shadows cast by dynamic GameObjects via shadow maps can be correctly composited with precomputed shadows from static GameObjects, avoiding inconsistencies like double shadowing. </p>
<p>The only perceptible differences between shadows from static GameObjects and shadows from dynamic GameObjects are the differences in resolution and filtering of the precomputed shadowmask and the run-time shadow map, and that precomputed shadows support various forms of area Lights, so soft shadows can have more realistic penumbras.</p>
<p><img src="../uploads/Main/LightMode-Mixed-2.jpg" alt="In this image, the Baked shadowmask resolution is similar to the Realtime shadow resolution"></p>
<p><img src="../uploads/Main/LightMode-Mixed-3.jpg" alt="In this image, the Baked shadowmask resolution is much lower than the Realtime shadow resolution."></p>
<p>What <strong>Baked Indirect</strong> and <strong>Shadowmask</strong> have in common is that direct lighting is always computed in real time and added to the indirect lighting stored in the light map, so all Material effects that require a light direction continue to work. Dynamic GameObjects always cast shadows on other dynamic GameObjects via shadow maps within the <strong>Shadow Distance</strong> (<strong>Edit</strong> &gt; <strong>Project Settings</strong>, then select the <strong>Quality</strong> category, and navigate to the <strong>Shadows</strong> section), if shadows are enabled for that Light.</p>
<p><img src="../uploads/Main/LightMode-Mixed-4.png" alt="__Baked Indirect__ mode: Only indirect lighting is precomputed"></p>
<p><img src="../uploads/Main/LightMode-Mixed-5.png" alt="__Shadowmask__ and __Distance Shadowmask__ modes: Indirect lighting and direct occlusion are precomputed"></p>
<p><img src="../uploads/Main/LightMode-Mixed-6.png" alt="__Subtractive__ mode: All light paths are precomputed"></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2019 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
