<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-MC35ML');</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Physically Based Rendering Material Validator | Unity Technologies Developer Guide </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Physically Based Rendering Material Validator | Unity Technologies Developer Guide ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="manual">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="physically-based-rendering-material-validator">Physically Based Rendering Material Validator</h1>

<p>The Physically Based Rendering Material Validator is a draw mode in the Scene View. It allows you to make sure your materials use values which fall within the recommended reference values for physically-based shaders. If pixel values in a particular Material fall outside of the reference ranges, the Material Validator highlights the pixels in different colors to indicate failure.</p>
<p>To use the Material Validator, select the Scene View’s <strong>draw mode</strong> drop-down menu, which is is usually set to <strong>Shaded</strong> by default. </p>
<p><img src="../uploads/Main/materialValidator1.png" alt="The scene view&#39;s draw mode drop-down menu"> </p>
<p>Navigate to the <strong>Material Validation</strong> section. The Material Validator has two modes: <strong>Validate Albedo</strong> and <strong>Validate Metal Specular</strong>. </p>
<p><img src="../uploads/Main/materialValidator2.png" alt="The material validation options in the scene view draw mode drop-down menu"> </p>
<p><strong>Note</strong>: You can also check the recommended values with <a href="StandardShaderMaterialCharts.html">Unity’s Material Charts</a>. You still need to use these charts when authoring Materials to decide your <strong>albedo</strong> and <strong>metal specular</strong> values. However, the Material Validator provides you with a visual, in-editor way of quickly checking whether your Materials’ values are valid once your Assets are in the Scene.</p>
<p><strong>Also note</strong>: The validator only works in Linear color space. Physically Based Rendering is not intended for use with Gamma color space, so if you are using Physically Based Rendering and the PBR Material Validator, you should also be using <a href="LinearRendering-LinearOrGammaWorkflow.html">Linear color space</a>.</p>
<h2 id="validate-albedo-mode">Validate Albedo mode</h2>
<p><img src="../uploads/Main/materialValidator3.png" alt="The PBR Validation Settings when in Validate Albedo mode, which appear in the scene view"></p>
<p>The PBR Validation Settings that appear in the Scene view when you set Material Validation to Validate Albedo.</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong>Property:</strong></th>
<th style="text-align:left"></th>
<th style="text-align:left"><strong>Function:</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Check Pure Metals</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">Enable this checkbox if you want the Material Validator to highlight in yellow any pixels it finds which Unity defines as metallic, but which have a non-zero albedo value. See <a href="#pureMetals">Pure Metals</a>, below, for more details. By default, this is not enabled.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Luminance Validation</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">Use the drop-down to select a preset configuration for the Material Validator. If you select any option other than <strong>Default Luminance</strong>, you can also adjust the Hue Tolerance and Saturation Tolerance. The color bar underneath the name of the property indicates the albedo color of the configuration. The Luminance value underneath the drop-down indicates the minimum and maximum luminance value. The Material Validator highlights any pixels with a luminance value outside of these values. This is set to <strong>Default Luminance</strong> by default.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Hue Tolerance</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">When checking the albedo color values of your material, this slider allows you to control the amount of error allowed between the hue of your material, and the hue in the validation configuration.</td>
</tr>
<tr>
<td style="text-align:left">Saturation Tolerance</td>
<td style="text-align:left"></td>
<td style="text-align:left">When checking the albedo color values of your material, this slider allows you to control the amount of error allowed between the saturation of your material, and the saturation in the validation configuration.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Color Legend</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">These colors correspond to the colours that the Material Validator displays in the Scene view when the pixels for that Material are outside the defined values.</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Red</strong> Below Minimum Luminance Value</td>
<td style="text-align:left">The Material Validator highlights in red any pixels which are below the minimum luminance value defined in <strong>Luminance Validation</strong> (meaning that they are too dark).</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Blue</strong> Above Maximum Luminance Value</td>
<td style="text-align:left">The Material Validator highlights in blue any pixels which are above the maximum luminance value defined in <strong>Luminance Validation</strong> (meaning that they are too bright).</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Yellow</strong> Not A Pure Metal</td>
<td style="text-align:left">If you have Check Pure Metals enabled, the Material Validator highlights in yellow any pixels which Unity defines as metallic, but which have a non-zero albedo value. See Pure Metals, below, for more details.</td>
</tr>
</tbody>
</table>
<p>Unity’s <a href="StandardShaderMaterialCharts.html">Material charts</a> define the standard luminance range as 50-243 sRGB for non-metals, and 186-255 sRGB for metals. <strong>Validate Albedo</strong> mode colors any pixels outside of these ranges with different colors to indicate that the value is too low or too high.</p>
<p>In the example below, the first texture is below the minimum luminance value, and therefore too dark. The fourth texture is above the minimum luminance value, and therefore too bright. </p>
<p><img src="../uploads/Main/materialValidator4.jpg" alt="A Scene (without the Material Validator enabled) in which the first and fourth Materials have incorrect albedo values"></p>
<p><img src="../uploads/Main/materialValidator5.jpg" alt="The same Scene with the Material Validator enabled and set to Validate Albedo. The texture that is below the minimum luminance value is red. The texture that is above the minimum luminance value is blue"></p>
<p>The <a href="StandardShaderMaterialCharts.html">material charts</a> provide albedo values for common Materials. The brightness of albedo values has a dramatic impact on the amount of diffuse bounce light generated, so it is important for <a href="GIIntro.html">Global Illumination</a> baking to make sure that your different Material types are within the correct luminance ranges, in proportion with each other. To help you get these values right, you can select from the presets in the Luminance Validation drop-down, which provides common Material albedo values to verify the luminance ranges of particular Material types.</p>
<h3 id="overriding-the-default-luminance-values">Overriding the default luminance values</h3>
<p>Depending on the art style of your project, you might want the luminance values of Materials to differ from the preset luminance ranges. In this case, you can override the built-in albedo values used by the Material Validator with your own values. To override the preset luminance ranges, assign an array of <a href="ScriptRef:Rendering.AlbedoSwatchInfo.html">AlbedoSwatchInfo</a> values for each desired Material type to the property <a href="ScriptRef:Rendering.EditorGraphicsSettings-albedoSwatches.html">EditorGraphicsSettings.albedoSwatches</a>.</p>
<h2 id="validate-metal-specular-mode">Validate Metal Specular mode</h2>
<p><img src="../uploads/Main/materialValidator6.png" alt="The PBR validations settings, when in Validate Metal Specular mode"> </p>
<p>The PBR Validation Settings that appear in the Scene view when you set <strong>Material Validation</strong> to  <strong>Validate Metal Specular</strong>.</p>
<table>
<thead>
<tr>
<th style="text-align:left"><strong><em>Property:</em></strong></th>
<th style="text-align:left"></th>
<th style="text-align:left"><strong><em>Function:</em></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Check Pure Metals</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">Enable this checkbox if you want the Material Validator to highlight in yellow any pixels it finds which Unity defines as metallic, but which have a non-zero albedo value. See Pure Metals, below, for more details. By default, this is not enabled.</td>
</tr>
<tr>
<td style="text-align:left"><strong>Color Legend</strong></td>
<td style="text-align:left"></td>
<td style="text-align:left">These colors correspond to the colours that the Material Validator displays in the Scene view when the pixels for that Material are invalide - meaning their specular value falls outside the valid range for that type of material (metallic or non-metallic). See below this table for the valid ranges.</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Blue</strong> Below Minimum Specular Value</td>
<td style="text-align:left">The Material Validator highlights in red any pixels which are below the minimum specular value. (40 for non-metallic, or 155 for metallic).</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Red</strong> Above Maximum Specular Value</td>
<td style="text-align:left">The Material Validator highlights in blue any pixels which are above the maximum specular value. (75 for non-metallic, or 255 for metallic).</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Yellow</strong> Not A Pure Metal</td>
<td style="text-align:left">If you have <strong>Check Pure Metals</strong> enabled, the Material Validator highlights in yellow any pixels which Unity defines as metallic, but which have a non-zero albedo value. See Pure Metals, below, for more details.</td>
</tr>
</tbody>
</table>
<p>Unity’s <a href="StandardShaderMaterialCharts.html">Material charts</a> define two separate specular color ranges: </p>
<ul>
<li><strong>Non-metallic materials</strong>: 40-75 sRGB</li>
<li><strong>Metallic materials</strong>: 155 - 255 sRGB</li>
</ul>
<p>In Unity, all non-metallic Materials have a constant specular color that always falls within the correct range. However, it is common for metallic Materials to have specular values that are too low. To help you identify metallic Materials with this issue, the Material Validator’s <strong>Validate Metal Specular</strong> mode colors all pixels that have a specular color value that is too low. This includes all non-metallic materials by definition.</p>
<p>In the example below, the left material is below the minimum specular value, and therefore too dark. This also applies to the Scene’s background. The right material has specular values with in the valid range. </p>
<p><img src="../uploads/Main/materialValidator7.jpg" alt="A Scene with two metallic Materials. The left has incorrect metallic specular values"></p>
<p><img src="../uploads/Main/materialValidator8.png" alt="The same Scene with the Material Validator enabled and set to __Validate Metal Specular__"></p>
<p><a name="pureMetals"></a></p>
<h3 id="pure-metals">Pure Metals</h3>
<p>Unity defines physically-based shading materials with a specular color greater than 155 sRGB as metallic. For Unity to define a metallic Material as a <strong>pure metal</strong></p>
<p>If a non-metallic surface has a specular color value that is too high, but has a non-zero albedo value, this is often due to an authoring error. The Material Validator also has an option called <strong>Check Pure Metals</strong>. When you enable this option, the Material Validator colors in yellow any Material that Unity defines as metallic but which has a non-zero albedo value. An example of this can be seen in the images below. It shows three materials, the left and right materials are pure metals, but the middle material is not, so the Material Validator colors it yellow:</p>
<p><img src="../uploads/Main/materialValidator9.jpg" alt="A Scene with three metallic Materials. The middle Material is not a pure metal (it has a non-zero albedo value)"></p>
<p><img src="../uploads/Main/materialValidator10.png" alt="The same Scene with the __Material Validator__ enabled and set to __Validate Metal Specular__, with Check Pure Metals enabled)"></p>
<p>In the second image above, the background is red because the Materials in the background are below the minimum specular value for the Material Validator’s <strong>Validate Metal Specular</strong> mode.</p>
<p>For complex materials that combine metallic and non-metallic properties, the pure metal checker is likely to pick up some invalid pixels, but if a Material is totally invalid, it’s usually a sign of an authoring error.</p>
<h2 id="implementation">Implementation</h2>
<p>The Material Validator works with any Materials that use Unity’s <a href="shader-StandardShader.html">Standard shader</a> or <a href="SL-SurfaceShaders.html">surface shaders</a>. However, custom shaders require a pass named <code>“META”</code>. Most custom shaders that support lightmapping already have this pass defined. See documentation on <a href="MetaPass.html">Meta pass</a> for more details. </p>
<p>Carry out the following steps to make your custom shader compatible with the Material Validator:</p>
<ol>
<li>Add the following pragma to the meta pass: <code>#pragma shader_feature EDITOR_VISUALIZATION</code></li>
<li>In the <code>UnityMetaInput</code> structure, assign the specular color of the Material to the field called <code>SpecularColor</code>, as shown in the code example below.</li>
</ol>
<p>Here is an example of a custom meta pass:</p>
<pre><code>Pass
{
    Name &quot;META&quot; 
    Tags { &quot;LightMode&quot;=&quot;Meta&quot; }

    Cull Off

    CGPROGRAM
    #pragma vertex vert_meta
    #pragma fragment frag_meta

    #pragma shader_feature _EMISSION
    #pragma shader_feature _METALLICGLOSSMAP
    #pragma shader_feature _ _SMOOTHNESS_TEXTURE_ALBEDO_CHANNEL_A
    #pragma shader_feature ___ _DETAIL_MULX2
    #pragma shader_feature EDITOR_VISUALIZATION

    float4 frag_meta(v2f_meta i) : SV_TARGET
    {
        UnityMetaInput input;
        UNITY_INITIALIZE_OUTPUT(UnityMetaInput, input);
        float4 materialSpecularColor = float4(1.0f, 0.0f, 0.0f, 1.0f);
        float4 materialAlbedo = float4(0.0f, 1.0f, 0.0f, 1.0f);
        input.SpecularColor = materialSpecularColor;
        input.Albedo = materialAlbedo;

        return UnityMetaFragment(input);
    }  
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2019 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
