<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');</script>
    <script type="text/javascript">thisPackageMetaData = { name: "com.unity.entities", version: "0.17.0-preview.18", displayTitle:"Entities 0.17.0-preview.18", lang: "en" };</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Struct BlobBuilder
   | Entities | 0.17.0-preview.18 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Struct BlobBuilder
   | Entities | 0.17.0-preview.18 ">
    <meta name="generator" content="docfx 2.51.0.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/version-switcher.css">
    <link rel="stylesheet" href="../styles/language-switcher.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="unity:packageTitle" content="Entities | 0.17.0-preview.18">
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10" id="main_content">
          <div id="breadcrumb_placeholder"></div>
            <article class="content wrap" id="_content" data-uid="Unity.Entities.BlobBuilder">
  
  
  <h1 id="Unity_Entities_BlobBuilder" data-uid="Unity.Entities.BlobBuilder">Struct BlobBuilder
  </h1>
  <div class="markdown level0 summary"><p>Creates blob assets.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Unity.Entities.html">Unity.Entities</a></h6>
  <!--h6><strong>Assembly</strong>: solution.dll</h6-->
  <h5 id="Unity_Entities_BlobBuilder_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public struct BlobBuilder : IDisposable</code></pre>
  </div>
  <h5 id="Unity_Entities_BlobBuilder_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>A blob asset is an immutable data structure stored in unmanaged memory.
Blob assets can contain primitive types, strings, structs, arrays, and arrays of arrays. Arrays and structs
must only contain blittable types. Strings must be of type <a class="xref" href="Unity.Entities.BlobString.html">BlobString</a> (or a specialized unmanaged
string type such as <span class="xref">Unity.Collections.NativeString</span>).</p>
<p>To use a BlobBuilder object to create a blob asset:</p>
<ol>
<li>Declare the structure of the blob asset as a struct.</li>
<li>Create a BlobBuilder object.</li>
<li>Call the <a class="xref" href="Unity.Entities.BlobBuilder.ConstructRoot.html#Unity_Entities_BlobBuilder_ConstructRoot__1">ConstructRoot&lt;T&gt;()</a> method, where <code>T</code> is the struct definng the asset structure.</li>
<li>Initialize primitive values defined at the root level of the asset.</li>
<li>Allocate memory for arrays, structs, and <a class="xref" href="Unity.Entities.BlobString.html">BlobString</a> instances at the root.</li>
<li>Initialize the values of those arrays, structs, and strings.</li>
<li>Continue allocating memory and initializing values until you have fully constructed the asset.</li>
<li>Call <a class="xref" href="Unity.Entities.BlobBuilder.CreateBlobAssetReference.html#Unity_Entities_BlobBuilder_CreateBlobAssetReference__1_Unity_Collections_Allocator_">CreateBlobAssetReference&lt;T&gt;(Allocator)</a> to create a reference to the blob asset in memory.</li>
<li>Dispose the BlobBuilder object.</li>
</ol>
<p>Use the <a class="xref" href="Unity.Entities.BlobAssetReference-1.html">BlobAssetReference&lt;T&gt;</a> returned by <a class="xref" href="Unity.Entities.BlobBuilder.CreateBlobAssetReference.html#Unity_Entities_BlobBuilder_CreateBlobAssetReference__1_Unity_Collections_Allocator_">CreateBlobAssetReference&lt;T&gt;(Allocator)</a> to reference
the blob asset. You can use a <a class="xref" href="Unity.Entities.BlobAssetReference-1.html">BlobAssetReference&lt;T&gt;</a> as a field of an <a class="xref" href="Unity.Entities.IComponentData.html">IComponentData</a>
struct. More than one entity can reference the same blob asset.</p>
<p>Call <a class="xref" href="Unity.Entities.BlobAssetReference-1.Dispose.html#Unity_Entities_BlobAssetReference_1_Dispose">Dispose()</a> to free the memory allocated for a blob asset.</p>
<p>Blob assets cannot be modified once created. Instead, you must create a new blob asset, update any references
to the old one and then dispose of it.</p>
</div>
  <h5 id="Unity_Entities_BlobBuilder_examples"><strong>Examples</strong></h5>
  <pre><code source="../DocCodeSamples.Tests/BlobAssetExamples.cs" region="builderclassexample">public class UsingBuilder
{
}</code></pre>

  <h3 id="constructors">Constructors
  </h3>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td id="Unity_Entities_BlobBuilder__ctor_Unity_Collections_Allocator_System_Int32_" data-uid="Unity.Entities.BlobBuilder.#ctor(Unity.Collections.Allocator,System.Int32)">
          <a class="xref" href="Unity.Entities.BlobBuilder.-ctor.html#Unity_Entities_BlobBuilder__ctor_Unity_Collections_Allocator_System_Int32_">BlobBuilder(Allocator, Int32)</a>
        </td>
        <td class="markdown level1 summary"><p>Constructs a BlobBuilder object.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td id="Unity_Entities_BlobBuilder_Allocate__1_Unity_Entities_BlobArray___0___System_Int32_" data-uid="Unity.Entities.BlobBuilder.Allocate``1(Unity.Entities.BlobArray{``0}@,System.Int32)">
          <a class="xref" href="Unity.Entities.BlobBuilder.Allocate.html#Unity_Entities_BlobBuilder_Allocate__1_Unity_Entities_BlobArray___0___System_Int32_">Allocate&lt;T&gt;(ref BlobArray&lt;T&gt;, Int32)</a>
        </td>
        <td class="markdown level1 summary"><p>Allocates enough memory to store <code data-dev-comment-type="paramref" class="paramref">length</code> elements of struct <code data-dev-comment-type="typeparamref" class="typeparamref">T</code>.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_Allocate__1_Unity_Entities_BlobPtr___0___" data-uid="Unity.Entities.BlobBuilder.Allocate``1(Unity.Entities.BlobPtr{``0}@)">
          <a class="xref" href="Unity.Entities.BlobBuilder.Allocate.html#Unity_Entities_BlobBuilder_Allocate__1_Unity_Entities_BlobPtr___0___">Allocate&lt;T&gt;(ref BlobPtr&lt;T&gt;)</a>
        </td>
        <td class="markdown level1 summary"><p>Allocates enough memory to store a struct of type <code data-dev-comment-type="typeparamref" class="typeparamref">T</code>.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_Construct__1_Unity_Entities_BlobArray___0_____0___" data-uid="Unity.Entities.BlobBuilder.Construct``1(Unity.Entities.BlobArray{``0}@,``0[])">
          <a class="xref" href="Unity.Entities.BlobBuilder.Construct.html#Unity_Entities_BlobBuilder_Construct__1_Unity_Entities_BlobArray___0_____0___">Construct&lt;T&gt;(ref BlobArray&lt;T&gt;, T[])</a>
        </td>
        <td class="markdown level1 summary"><p>Copies an array of structs to an array in a blob asset after allocating the necessary memory.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_ConstructRoot__1" data-uid="Unity.Entities.BlobBuilder.ConstructRoot``1">
          <a class="xref" href="Unity.Entities.BlobBuilder.ConstructRoot.html#Unity_Entities_BlobBuilder_ConstructRoot__1">ConstructRoot&lt;T&gt;()</a>
        </td>
        <td class="markdown level1 summary"><p>Creates the top-level fields of a single blob asset.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_CreateBlobAssetReference__1_Unity_Collections_Allocator_" data-uid="Unity.Entities.BlobBuilder.CreateBlobAssetReference``1(Unity.Collections.Allocator)">
          <a class="xref" href="Unity.Entities.BlobBuilder.CreateBlobAssetReference.html#Unity_Entities_BlobBuilder_CreateBlobAssetReference__1_Unity_Collections_Allocator_">CreateBlobAssetReference&lt;T&gt;(Allocator)</a>
        </td>
        <td class="markdown level1 summary"><p>Completes construction of the blob asset and returns a reference to the asset in unmanaged memory.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_Dispose" data-uid="Unity.Entities.BlobBuilder.Dispose">
          <a class="xref" href="Unity.Entities.BlobBuilder.Dispose.html#Unity_Entities_BlobBuilder_Dispose">Dispose()</a>
        </td>
        <td class="markdown level1 summary"><p>Disposes of this BlobBuilder instance and frees its temporary memory allocations.</p>
</td>
      </tr>
      <tr>
        <td id="Unity_Entities_BlobBuilder_SetPointer__1_Unity_Entities_BlobPtr___0_____0__" data-uid="Unity.Entities.BlobBuilder.SetPointer``1(Unity.Entities.BlobPtr{``0}@,``0@)">
          <a class="xref" href="Unity.Entities.BlobBuilder.SetPointer.html#Unity_Entities_BlobBuilder_SetPointer__1_Unity_Entities_BlobPtr___0_____0__">SetPointer&lt;T&gt;(ref BlobPtr&lt;T&gt;, ref T)</a>
        </td>
        <td class="markdown level1 summary"><p>Sets a BlobPtr to point to the given object inside the blob.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Unity.Entities.BlobStringExtensions.AllocateString.html#Unity_Entities_BlobStringExtensions_AllocateString_Unity_Entities_BlobBuilder__Unity_Entities_BlobString__System_String_">BlobStringExtensions.AllocateString(ref BlobBuilder, ref BlobString, String)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2020 Unity Technologies<br>Generated by <strong>DocFX</strong></span> on Wednesday, October 28, 2020
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script type="text/javascript" src="../styles/metadata-collector.js"></script>
    <script type="text/javascript" src="../styles/version-switcher.js"></script>
    <script type="text/javascript" src="../styles/language-switcher.js"></script>
  </body>
</html>
