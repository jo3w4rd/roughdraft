<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');</script>
    <script type="text/javascript">thisPackageMetaData = { version: "0.7.0-preview.8", displayTitle:"Unity Entities Documentation 0.7.0-preview.8" };</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Class EntityCommandBufferSystem
   | Unity Entities Documentation | 0.7.0-preview.8 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class EntityCommandBufferSystem
   | Unity Entities Documentation | 0.7.0-preview.8 ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/version-switcher.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="unity:packageTitle" content="Unity Entities Documentation | 0.7.0-preview.8">
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10" id="main_content">
          <div id="breadcrumb_placeholder"></div>
            <article class="content wrap" id="_content" data-uid="Unity.Entities.EntityCommandBufferSystem">
  
  
  <h1 id="Unity_Entities_EntityCommandBufferSystem" data-uid="Unity.Entities.EntityCommandBufferSystem">Class EntityCommandBufferSystem
  </h1>
  <div class="markdown level0 summary"><p>A system that provides <a class="xref" href="Unity.Entities.EntityCommandBuffer.html">EntityCommandBuffer</a> objects for other systems.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><a class="xref" href="https://docs.microsoft.com/dotnet/api/system.object">Object</a></div>
    <div class="level1"><a class="xref" href="Unity.Entities.ComponentSystemBase.html">ComponentSystemBase</a></div>
    <div class="level2"><a class="xref" href="Unity.Entities.ComponentSystem.html">ComponentSystem</a></div>
    <div class="level3"><span class="xref">EntityCommandBufferSystem</span></div>
  </div>
      <div class="level4"><a class="xref" href="Unity.Entities.BeginInitializationEntityCommandBufferSystem.html">BeginInitializationEntityCommandBufferSystem</a></div>
      <div class="level4"><a class="xref" href="Unity.Entities.BeginPresentationEntityCommandBufferSystem.html">BeginPresentationEntityCommandBufferSystem</a></div>
      <div class="level4"><a class="xref" href="Unity.Entities.BeginSimulationEntityCommandBufferSystem.html">BeginSimulationEntityCommandBufferSystem</a></div>
      <div class="level4"><a class="xref" href="Unity.Entities.EndInitializationEntityCommandBufferSystem.html">EndInitializationEntityCommandBufferSystem</a></div>
      <div class="level4"><a class="xref" href="Unity.Entities.EndSimulationEntityCommandBufferSystem.html">EndSimulationEntityCommandBufferSystem</a></div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystem.html#Unity_Entities_ComponentSystem_PostUpdateCommands">ComponentSystem.PostUpdateCommands</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystem.html#Unity_Entities_ComponentSystem_InitEntityQueryCache_System_Int32_">ComponentSystem.InitEntityQueryCache(Int32)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystem.html#Unity_Entities_ComponentSystem_Entities">ComponentSystem.Entities</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystem.html#Unity_Entities_ComponentSystem_Update">ComponentSystem.Update()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_Enabled">ComponentSystemBase.Enabled</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_EntityQueries">ComponentSystemBase.EntityQueries</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GlobalSystemVersion">ComponentSystemBase.GlobalSystemVersion</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_LastSystemVersion">ComponentSystemBase.LastSystemVersion</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_EntityManager">ComponentSystemBase.EntityManager</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_World">ComponentSystemBase.World</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_Time">ComponentSystemBase.Time</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnCreateForCompiler">ComponentSystemBase.OnCreateForCompiler()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnDestroyManager">ComponentSystemBase.OnDestroyManager()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnCreateManager">ComponentSystemBase.OnCreateManager()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnStartRunning">ComponentSystemBase.OnStartRunning()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnStopRunning">ComponentSystemBase.OnStopRunning()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_ShouldRunSystem">ComponentSystemBase.ShouldRunSystem()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetArchetypeChunkComponentType__1_System_Boolean_">ComponentSystemBase.GetArchetypeChunkComponentType&lt;T&gt;(Boolean)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetArchetypeChunkComponentTypeDynamic_Unity_Entities_ComponentType_">ComponentSystemBase.GetArchetypeChunkComponentTypeDynamic(ComponentType)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetArchetypeChunkBufferType__1_System_Boolean_">ComponentSystemBase.GetArchetypeChunkBufferType&lt;T&gt;(Boolean)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetArchetypeChunkSharedComponentType__1">ComponentSystemBase.GetArchetypeChunkSharedComponentType&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetArchetypeChunkEntityType">ComponentSystemBase.GetArchetypeChunkEntityType()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetComponentDataFromEntity__1_System_Boolean_">ComponentSystemBase.GetComponentDataFromEntity&lt;T&gt;(Boolean)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetBufferFromEntity__1_System_Boolean_">ComponentSystemBase.GetBufferFromEntity&lt;T&gt;(Boolean)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_RequireForUpdate_Unity_Entities_EntityQuery_">ComponentSystemBase.RequireForUpdate(EntityQuery)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_RequireSingletonForUpdate__1">ComponentSystemBase.RequireSingletonForUpdate&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_HasSingleton__1">ComponentSystemBase.HasSingleton&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetSingleton__1">ComponentSystemBase.GetSingleton&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_SetSingleton__1___0_">ComponentSystemBase.SetSingleton&lt;T&gt;(T)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetSingletonEntity__1">ComponentSystemBase.GetSingletonEntity&lt;T&gt;()</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetEntityQuery_Unity_Entities_ComponentType___">ComponentSystemBase.GetEntityQuery(ComponentType[])</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetEntityQuery_NativeArray_Unity_Entities_ComponentType__">ComponentSystemBase.GetEntityQuery(NativeArray&lt;ComponentType&gt;)</a>
    </div>
    <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_GetEntityQuery_Unity_Entities_EntityQueryDesc___">ComponentSystemBase.GetEntityQuery(EntityQueryDesc[])</a>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Unity.Entities.html">Unity.Entities</a></h6>
  <!--h6><strong>Assembly</strong>: solution.dll</h6-->
  <h5 id="Unity_Entities_EntityCommandBufferSystem_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public abstract class EntityCommandBufferSystem : ComponentSystem</code></pre>
  </div>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>Each system that uses the EntityCommandBuffer provided by a command buffer system must call
<a class="xref" href="Unity.Entities.EntityCommandBufferSystem.html#Unity_Entities_EntityCommandBufferSystem_CreateCommandBuffer">CreateCommandBuffer()</a> to create its own command buffer instance. This buffer system executes each of
these separate command buffers in the order that you created them. The commands are executed during this system&apos;s
<a class="xref" href="Unity.Entities.EntityCommandBufferSystem.html#Unity_Entities_EntityCommandBufferSystem_OnUpdate">OnUpdate()</a> function.</p>
<p>When you write to a command buffer from a Job, you must add the <see cref="!:JobHandle"></see> of that Job to the buffer
system&apos;s dependency list with <a class="xref" href="Unity.Entities.EntityCommandBufferSystem.html#Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_JobHandle_">AddJobHandleForProducer(JobHandle)</a>.</p>
<p>If you write to a command buffer from a Job that runs in
parallel (and this includes both <a class="xref" href="Unity.Entities.IJobForEach-1.html">IJobForEach&lt;T0&gt;</a> and <a class="xref" href="Unity.Entities.IJobChunk.html">IJobChunk</a>), you must use the
concurrent version of the command buffer (<a class="xref" href="Unity.Entities.EntityCommandBuffer.html#Unity_Entities_EntityCommandBuffer_ToConcurrent">ToConcurrent()</a>).</p>
<p>Executing the commands in an EntityCommandBuffer invokes the corresponding functions of the
<a class="xref" href="Unity.Entities.EntityManager.html">EntityManager</a>. Any structural change, such as adding or removing entities, adding or removing
components from entities, or changing shared component values, creates a sync-point in your application.
At a sync point, all Jobs accessing entity components must complete before new Jobs can start. Such sync points
make it difficult for the Job scheduler to fully utilize available computing power. To avoid sync points,
you should use as few entity command buffer systems as possible.</p>
<p>The default ECS <a class="xref" href="Unity.Entities.World.html">World</a> code creates a <a class="xref" href="Unity.Entities.ComponentSystemGroup.html">ComponentSystemGroup</a> setup with
three main groups, <a class="xref" href="Unity.Entities.InitializationSystemGroup.html">InitializationSystemGroup</a>, <a class="xref" href="Unity.Entities.SimulationSystemGroup.html">SimulationSystemGroup</a>, and
<a class="xref" href="Unity.Entities.PresentationSystemGroup.html">PresentationSystemGroup</a>. Each of these main groups provides an existing EntityCommandBufferSystem
executed at the start and the end of other, child systems.</p>
<p>Note that unused command buffers systems do not create sync points because there are no commands to execute and
thus no structural changes created.</p>
<p>The EntityCommandBufferSystem class is abstract, so you must implement a subclass to create your own
entity command buffer system. However, none of its methods are abstract, so you do not need to implement
your own logic. Typically, you create an EntityCommandBufferSystem subclass to create a named buffer system
for other systems to use and update it at an appropriate place in a custom <a class="xref" href="Unity.Entities.ComponentSystemGroup.html">ComponentSystemGroup</a>
setup.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs">Improve this Doc</a>
  </span>
  
  <a id="Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_" data-uid="Unity.Entities.EntityCommandBufferSystem.AddJobHandleForProducer*"></a>
  <h4 id="Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_JobHandle_" data-uid="Unity.Entities.EntityCommandBufferSystem.AddJobHandleForProducer(JobHandle)">AddJobHandleForProducer(JobHandle)</h4>
  <div class="markdown level1 summary"><p>Adds the specified JobHandle to this system&apos;s list of dependencies.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void AddJobHandleForProducer(JobHandle producerJob)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">JobHandle</span></td>
        <td><span class="parametername">producerJob</span></td>
        <td><p>The JobHandle of a Job which this buffer system should wait for before playing back its
pending command buffers.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_JobHandle__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>When you write to a command buffer from a Job, you must add the <see cref="!:JobHandle"></see> of that Job to this buffer
system&apos;s dependency list by calling this function. Otherwise, the buffer system could execute the commands
currently in the command buffer while the writing Job is still in progress.</p>
</div>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_JobHandle__examples">Examples</h5>
  <p>The following example illustrates how to use one of the default <a class="xref" href="Unity.Entities.EntityCommandBuffer.html">EntityCommandBuffer</a> systems.
The code selects all entities that have one custom component, in this case, <code>AsyncProcessInfo</code>, and
processes each entity in the <code>Execute()</code> function of an <a class="xref" href="Unity.Entities.IJobForEachWithEntity-1.html">IJobForEachWithEntity&lt;T0&gt;</a> Job (the
actual process is not shown since that part of the example is hypothetical). After processing, the Job
uses an EntityCommandBuffer to remove the <code>ProcessInfo</code> component and add an <code>ProcessCompleteTag</code>
component. Another system could use the <code>ProcessCompleteTag</code> to find entities that represent the end
results of the process.</p>
<pre><code>public struct ProcessInfo: IComponentData{ public float Value; }
public struct ProcessCompleteTag : IComponentData{}

public class AsyncProcessJobSystem : JobComponentSystem
{
    [BurstCompile]
    public struct ProcessInBackgroundJob : IJobForEachWithEntity&lt;ProcessInfo>
    {
        [ReadOnly]
        public EntityCommandBuffer.Concurrent ConcurrentCommands;

        public void Execute(Entity entity, int index, [ReadOnly] ref ProcessInfo info)
        {
            // Process based on the ProcessInfo component,
            // then remove ProcessInfo and add a ProcessCompleteTag...

            ConcurrentCommands.RemoveComponent&lt;ProcessInfo>(index, entity);
            ConcurrentCommands.AddComponent(index, entity, new ProcessCompleteTag());
        }
    }

    protected override JobHandle OnUpdate(JobHandle inputDeps)
    {
        var job = new ProcessInBackgroundJob();

        var ecbSystem =
            World.GetOrCreateSystem&lt;EndSimulationEntityCommandBufferSystem>();
        job.ConcurrentCommands = ecbSystem.CreateCommandBuffer().ToConcurrent();

        var handle = job.Schedule(this, inputDeps);
        ecbSystem.AddJobHandleForProducer(handle);

        return handle;
    }
}</code></pre>

  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs">Improve this Doc</a>
  </span>
  
  <a id="Unity_Entities_EntityCommandBufferSystem_CreateCommandBuffer_" data-uid="Unity.Entities.EntityCommandBufferSystem.CreateCommandBuffer*"></a>
  <h4 id="Unity_Entities_EntityCommandBufferSystem_CreateCommandBuffer" data-uid="Unity.Entities.EntityCommandBufferSystem.CreateCommandBuffer">CreateCommandBuffer()</h4>
  <div class="markdown level1 summary"><p>Creates an <a class="xref" href="Unity.Entities.EntityCommandBuffer.html">EntityCommandBuffer</a> and adds it to this system&apos;s list of command buffers.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public EntityCommandBuffer CreateCommandBuffer()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Unity.Entities.EntityCommandBuffer.html">EntityCommandBuffer</a></td>
        <td><p>A command buffer that will be executed by this system.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_CreateCommandBuffer_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This buffer system executes its list of command buffers during its <a class="xref" href="Unity.Entities.EntityCommandBufferSystem.html#Unity_Entities_EntityCommandBufferSystem_OnUpdate">OnUpdate()</a> function in the
order you created the command buffers.</p>
<p>If you write to a command buffer in a Job, you must add the
Job as a dependency of this system by calling <a class="xref" href="Unity.Entities.EntityCommandBufferSystem.html#Unity_Entities_EntityCommandBufferSystem_AddJobHandleForProducer_JobHandle_">AddJobHandleForProducer(JobHandle)</a>. The dependency ensures
that the buffer system waits for the Job to complete before executing the command buffer.</p>
<p>If you write to a command buffer from a parallel Job, such as <a class="xref" href="Unity.Entities.IJobForEach-1.html">IJobForEach&lt;T0&gt;</a> or
<a class="xref" href="Unity.Entities.IJobChunk.html">IJobChunk</a>, you must use the concurrent version of the command buffer, provided by
<a class="xref" href="Unity.Entities.EntityCommandBuffer.Concurrent.html">EntityCommandBuffer.Concurrent</a>.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs">Improve this Doc</a>
  </span>
  
  <a id="Unity_Entities_EntityCommandBufferSystem_OnCreate_" data-uid="Unity.Entities.EntityCommandBufferSystem.OnCreate*"></a>
  <h4 id="Unity_Entities_EntityCommandBufferSystem_OnCreate" data-uid="Unity.Entities.EntityCommandBufferSystem.OnCreate">OnCreate()</h4>
  <div class="markdown level1 summary"><p>Initializes this command buffer system.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void OnCreate()</code></pre>
  </div>
  <h5 class="overrides">Overrides</h5>
  <div><a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnCreate">ComponentSystemBase.OnCreate()</a></div>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_OnCreate_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If you override this method, you should call <code>base.OnCreate()</code> to retain the default
initialization logic.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs">Improve this Doc</a>
  </span>
  
  <a id="Unity_Entities_EntityCommandBufferSystem_OnDestroy_" data-uid="Unity.Entities.EntityCommandBufferSystem.OnDestroy*"></a>
  <h4 id="Unity_Entities_EntityCommandBufferSystem_OnDestroy" data-uid="Unity.Entities.EntityCommandBufferSystem.OnDestroy">OnDestroy()</h4>
  <div class="markdown level1 summary"><p>Destroys this system, executing any pending command buffers first.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void OnDestroy()</code></pre>
  </div>
  <h5 class="overrides">Overrides</h5>
  <div><a class="xref" href="Unity.Entities.ComponentSystemBase.html#Unity_Entities_ComponentSystemBase_OnDestroy">ComponentSystemBase.OnDestroy()</a></div>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_OnDestroy_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If you override this method, you should call <code>base.OnDestroy()</code> to retain the default
destruction logic.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs">Improve this Doc</a>
  </span>
  
  <a id="Unity_Entities_EntityCommandBufferSystem_OnUpdate_" data-uid="Unity.Entities.EntityCommandBufferSystem.OnUpdate*"></a>
  <h4 id="Unity_Entities_EntityCommandBufferSystem_OnUpdate" data-uid="Unity.Entities.EntityCommandBufferSystem.OnUpdate">OnUpdate()</h4>
  <div class="markdown level1 summary"><p>Executes the command buffers in this system in the order they were created.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected override void OnUpdate()</code></pre>
  </div>
  <h5 class="overrides">Overrides</h5>
  <div><a class="xref" href="Unity.Entities.ComponentSystem.html#Unity_Entities_ComponentSystem_OnUpdate">ComponentSystem.OnUpdate()</a></div>
  <h5 id="Unity_Entities_EntityCommandBufferSystem_OnUpdate_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>If you override this method, you should call <code>base.OnUpdate()</code> to retain the default
update logic.</p>
</div>
  <h3 id="extensionmethods">Extension Methods</h3>
  <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBaseManagedComponentExtensions.html#Unity_Entities_ComponentSystemBaseManagedComponentExtensions_HasSingleton__1_Unity_Entities_ComponentSystemBase_">ComponentSystemBaseManagedComponentExtensions.HasSingleton&lt;T&gt;(ComponentSystemBase)</a>
  </div>
  <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBaseManagedComponentExtensions.html#Unity_Entities_ComponentSystemBaseManagedComponentExtensions_GetSingleton__1_Unity_Entities_ComponentSystemBase_">ComponentSystemBaseManagedComponentExtensions.GetSingleton&lt;T&gt;(ComponentSystemBase)</a>
  </div>
  <div>
      <a class="xref" href="Unity.Entities.ComponentSystemBaseManagedComponentExtensions.html#Unity_Entities_ComponentSystemBaseManagedComponentExtensions_SetSingleton__1_Unity_Entities_ComponentSystemBase___0_">ComponentSystemBaseManagedComponentExtensions.SetSingleton&lt;T&gt;(ComponentSystemBase, T)</a>
  </div>
  <div>
      <a class="xref" href="Unity.Entities.JobForEachExtensions.html#Unity_Entities_JobForEachExtensions_GetEntityQueryForIJobForEach_Unity_Entities_ComponentSystemBase_System_Type_">JobForEachExtensions.GetEntityQueryForIJobForEach(ComponentSystemBase, Type)</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Unity-Technologies/dots/blob/docs-systembase-changes/Samples/Packages/com.unity.entities@0.7/package/Unity.Entities/EntityCommandBufferSystem.cs" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2020 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script type="text/javascript" src="../styles/metadata-collector.js"></script>
    <script type="text/javascript" src="../styles/version-switcher.js"></script>
  </body>
</html>
