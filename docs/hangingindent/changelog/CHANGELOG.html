<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Change log | Unity Entities Documentation | 0.2.0-preview.12 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Change log | Unity Entities Documentation | 0.2.0-preview.12 ">
    <meta name="generator" content="docfx 2.40.12.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    <meta property="unity:packageTitle" content="Unity Entities Documentation | 0.2.0-preview.12">
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" class="">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="change-log">Change log</h1>

<h2 id="020---2019-12-31">[0.2.0] - 2019-12-31</h2>
<p><strong>This version requires Unity 2019.3 0b6+</strong></p>
<h3 id="new-features">New Features</h3>
<ul>
<li>Live link UI improvements:<ul>
<li>It is now possible to select a Live Link compatible build setting, build, and run a Live Link player directly from the UI next to the playbar.</li>
<li>Live Link connections currently attached to the editor are now viewable in a dropdown next to the playbar.</li>
<li><code>Entities.ForEach</code> syntax for supplying jobified code in a <code>JobComponentSystem</code>&#39;s <code>OnUpdate</code> method directly by using a lambda (instead of supplying an additional <code>IJobForEach</code>).</li>
</ul>
</li>
<li>Automatically generate authoring components for IComponentData with IL post-processing. Any component data marked with a GenerateAuthoringComponent attribute will generate the corresponding authoring MonoBehaviour with a Convert method.</li>
<li><code>EntityQueryMask</code> has been added, which allows for quick confirmation of if an Entity would be returned by an <code>EntityQuery</code> without filters via <code>EntityQueryMask.Matches(Entity entity)</code>.  An EntityQueryMask can be obtained by calling <code>EntityManager.GetEntityQueryMask(EntityQuery query).</code></li>
<li>Unity Entities now supports the <em>Fast Enter playmode</em> which can be enabled in the project settings. It is recommended to be turned on for all dots projects.</li>
<li>The UnityEngine component <code>StopConvertToEntity</code> can be used to interrupt <code>ConvertToEntity</code> recursion, and should be preferred over a <code>ConvertToEntity</code> set to &quot;convert and inject&quot; for that purpose.</li>
<li><em>EntityDebugger</em> now shows IDs in a separate column, so you can still see them when entities have custom names</li>
<li>Entity references in the Entity Inspector have a &quot;Show&quot; button which will select the referenced Entity in the Debugger.</li>
<li>An <code>ArchetypeChunkIterator</code> can be created by calling <code>GetArchetypeChunkIterator</code> on an <code>EntityQuery</code>. You may run an <code>IJobChunk</code> while bypassing the Jobs API by passing an <code>ArchetypeChunkIterator</code> into <code>IJobChunk.RunWithoutJobs()</code>.</li>
<li>The <code>[AlwaysSynchronizeSystem]</code> attribute has been added, which can be applied to a <code>JobComponentSystem</code> to force it to synchronize on all of its dependencies before every update.</li>
<li><code>BoneIndexOffset</code> has been added, which allows the Animation system to communicate a bone index offset to the Hybrid Renderer.</li>
<li>Initial support for using Hybrid Components during conversion, see the HybridComponent sample in the StressTests folder.</li>
<li>New <code>GameObjectConversionSystem.ForkSettings()</code> that provides a very specialized method for creating a fork of the current conversion settings with a different &quot;EntityGuid namespace&quot;, which can be used for nested conversions. This is useful for example in net code where multiple root-level variants of the same authoring object need to be created in the destination world.</li>
<li><code>EntityManager</code> <code>LockChunkOrder</code> and <code>UnlockChunkOrder</code> are deprecated.</li>
<li>Entity Scenes can be loaded synchronously (during the next streaming system update) by using <code>SceneLoadFlags.BlockOnStreamIn</code> in <code>SceneSystem.LoadParameters</code>.</li>
<li><code>EntityCommandBuffer</code> can now be played back on an <code>EntityEntityTransaction</code> as well as an <code>EntityManager</code>. This allows ECB playback to be invoked from a job (though exclusive access to the EntityManager data is still required for the duration of playback).</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>Setting <code>ComponentSystemGroup.Enabled</code> to <code>false</code> now calls <code>OnStopRunning()</code> recursively on the group&#39;s member systems, not just on the group itself.</li>
<li>Updated Properties pacakge to <code>0.10.3-preview</code> to fix an exception when showing Physics ComponentData in the inspector as well as fix IL2CPP Ahead of Time linker errors for generic virtual function calls.</li>
<li>The <code>LocalToParentSystem</code> will no longer write to the <code>LocalToWorld</code> component of entities that have a component with the <code>WriteGroup(typeof(LocalToWorld))</code>.</li>
<li>Entity Debugger styling work better with Pro theme</li>
<li>Entity Inspector no longer has runaway indentation</li>
<li>Fixed issue where <code>AddSharedComponentData</code>, <code>SetSharedComponentData</code> did not always update <code>SharedComponentOrderVersion</code>.</li>
<li>Fixes serialization issue when reading in managed <code>IComponentData</code> containing array types and <code>UnityEngine.Object</code> references.</li>
<li>No exception is thrown when re-adding a tag component with <code>EntityQuery</code>.</li>
<li><code>AddComponent&lt;T&gt;(NativeArray&lt;Entity&gt;)</code> now reliably throws an <code>ArgumentException</code> if any of the target entities are invalid.</li>
<li>Fixed an issue where the Entity Debugger would not repaint in edit mode</li>
<li>Marking a system as <code>[UpdateInGroup(typeof(LateSimulationSystemGroup))]</code> no longer emits a warning about <code>[DisableAutoCreation]</code>.</li>
<li>Fixed rendering of chunk info to be compatible with HDRP</li>
</ul>
<h3 id="changes">Changes</h3>
<ul>
<li>Moved <code>NativeString</code> code from Unity.Entities to Unity.Collections.</li>
<li>Updated dependencies for this package.</li>
<li>Significantly improved <code>Entity</code> instantiation performance when running in-Editor.</li>
<li>Added support for managed <code>IComponentData</code> types such as <code>class MyComponent : IComponentData {}</code> which allows managed types such as GameObjects or List&lt;&gt;s to be stored in components. Users should use managed components sparingly in production code when possible as these components cannot be used by the Job System or archetype chunk storage and thus will be significantly slower to work with. Refer to the documentation for <a href="Documentation~/component_data.md">component data</a> for more details on managed component use, implications and prevention.</li>
<li>&#39;SubSceneStreamingSystem&#39; has been renamed to <code>SceneSectionStreamingSystem</code> and is now internal</li>
<li>Deprecated <code>_SceneEntities</code> in <code>SubScene.cs</code>. Please use <code>SceneSystem.LoadAsync</code> / <code>Unload</code> with the respective SceneGUID instead. This API will be removed after 2019-11-22.</li>
<li>Updated <code>com.unity.serialization</code> to <code>0.6.3-preview</code>.</li>
<li>The deprecated <code>GetComponentGroup()</code> APIs are now <code>protected</code> and can only be called from inside a System like their <code>GetEntityQuery()</code> successors.</li>
<li>All GameObjects with a ConvertToEntity set to &quot;Convert and Destroy&quot; will all be processed within the same conversion pass, this allows cross-referencing.</li>
<li>Duplicate component adds are always ignored</li>
<li>When adding component to single entity via EntityQuery, entity is moved to matching chunk instead of chunk achetype changing.</li>
<li>&quot;Used by Systems&quot; list skips queries with filters</li>
<li>Managed <code>IComponentData</code> no longer require all fields to be non-null after default construction.</li>
<li><code>ISharedComponentData</code> is serialized inline with entity and managed <code>IComponentData</code>. If a shared component references a <code>UnityEngine.Object</code> type, that type is serialized separately in an &quot;objrefs&quot; resource asset.</li>
<li><code>EntityManager</code> calls <code>EntityComponentStore</code> via burst delegates for <code>Add</code>/<code>Remove</code> components.</li>
<li><code>EntityComponentStore</code> cannot throw exceptions (since called as burst delegate from main thread.)</li>
<li><code>bool ICustomBootstrap.Initialize(string defaultWorldName)</code> has changed API with no deprecated fallback. It now simply gives you a chance to completely replace the default world initialization by returning true.</li>
<li><p><code>ICustomBootstrap</code> &amp; <code>DefaultWorldInitialization</code> is now composable like this:</p>
<pre><code>class MyCustomBootStrap : ICustomBootstrap
{
  public bool Initialize(string defaultWorldName)
  {
      Debug.Log(&quot;Executing bootstrap&quot;);
      var world = new World(&quot;Custom world&quot;);
      World.DefaultGameObjectInjectionWorld = world;
      var systems = DefaultWorldInitialization.GetAllSystems(WorldSystemFilterFlags.Default);

      DefaultWorldInitialization.AddSystemsToRootLevelSystemGroups(world, systems);
      ScriptBehaviourUpdateOrder.UpdatePlayerLoop(world);
      return true;
  }
}
</code></pre></li>
<li><code>ICustomBootstrap</code> can now be inherited and only the most deepest subclass bootstrap will be executed.</li>
<li><code>DefaultWorldInitialization.GetAllSystems</code> is not affected by bootstrap, it simply returns a list of systems based on the present dlls &amp; attributes.</li>
<li><code>Time</code> is now available per-World, and is a property in a <code>ComponentSystem</code>.  It is updated from the <code>UnityEngine.Time</code> during the <code>InitializationSystemGroup</code> of each world.  If you need access to time in a sytem that runs in the <code>InitializationSystemGroup</code>, make sure you schedule your system after <code>UpdateWorldTimeSystem</code>.  <code>Time</code> is also a limited <code>TimeData</code> struct; if you need access to any of the extended fields available in <code>UnityEngine.Time</code>, access <code>UnityEngine.Time</code> explicitly`</li>
<li>Systems are no longer removed from a <code>ComponentSystemGroup</code> if they throw an exception from their <code>OnUpdate</code>. This behavior was more confusing than helpful.</li>
<li>Managed IComponentData no longer require implementing the <code>IEquatable&lt;&gt;</code> interface and overriding <code>GetHashCode()</code>. If either function is provided it will be preferred, otherwise the component will be inspected generically for equality.</li>
<li><code>EntityGuid</code> is now constructed from an originating ID, a namespace ID, and a serial, which can be safely extracted from their packed form using new getters. Use <code>a</code> and <code>b</code> fields when wanting to treat this as an opaque struct (the packing may change again in the future, as there are still unused bits remaining). The a/b constructor has been removed, to avoid any ambiguity.</li>
<li>Updated <code>com.unity.platforms</code> to <code>0.1.6-preview</code>.</li>
<li>The default Api Compatibility Level should now be <code>.NET Standard 2.0</code> and a warning is generated when the project uses <code>.NET 4.x</code>.</li>
</ul>
<h3 id="known-issues">Known Issues</h3>
<ul>
<li>Entities requires AssetDatabase V2 for certain new features, we do not provide support for AssetDatabase V1.</li>
</ul>
<h2 id="011---2019-08-06">[0.1.1] - 2019-08-06</h2>
<h3 id="new-features-1">New Features</h3>
<ul>
<li>EntityManager.SetSharedComponentData(EntityQuery query, T componentData) has been added which lets you efficiently swap a shared component data for a whole query. (Without moving any component data)</li>
</ul>
<h3 id="upgrade-guide">Upgrade guide</h3>
<ul>
<li>The deprecated <code>OnCreateManager</code> and <code>OnDestroyManager</code> are now compilation errors in the <code>NET_DOTS</code> profile as overrides can not be detected reliably (without reflection).
To avoid the confusion of &quot;why is that not being called&quot;, especially when there is no warning issued, this will now be a compilation error. Use <code>OnCreate</code> and <code>OnDestroy</code> instead.</li>
</ul>
<h3 id="changes-1">Changes</h3>
<ul>
<li>Updated default version of burst to <code>1.1.2</code></li>
</ul>
<h3 id="fixes-1">Fixes</h3>
<ul>
<li>Fixed potential memory corruption when calling RemoveComponent on a batch of entities that didn&#39;t have the component.</li>
<li>Fixed an issue where an assert about chunk layout compatibility could be triggered when adding a shared component via EntityManager.AddSharedComponentData<t>(EntityQuery entityQuery, T componentData).</t></li>
<li>Fixed an issue where Entities without any Components would cause UI errors in the Chunk Info view</li>
<li>Fixed EntityManager.AddComponent(NativeArray<entity> entities, ComponentType componentType) so that it handles duplicate entities in the input NativeArray. Duplicate entities are discarded and the component is added only once. Prior to this fix, an assert would be triggered when checking for chunk layout compatibility.</entity></li>
<li>Fixed invalid update path for <code>ComponentType.Create</code>. Auto-update is available in Unity <code>2019.3</code> and was removed for previous versions where it would fail (the fallback implementation will work as before).</li>
</ul>
<h2 id="010---2019-07-30">[0.1.0] - 2019-07-30</h2>
<h3 id="new-features-2">New Features</h3>
<ul>
<li>Added the <code>#UNITY_DISABLE_AUTOMATIC_SYSTEM_BOOTSTRAP_RUNTIME_WORLD</code> and <code>#UNITY_DISABLE_AUTOMATIC_SYSTEM_BOOTSTRAP_EDITOR_WORLD</code> defines which respectively can be used to disable runtime and editor default world generation.  Defining <code>#UNITY_DISABLE_AUTOMATIC_SYSTEM_BOOTSTRAP</code> will still disable all default world generation.</li>
<li>Allow structural changes to entities (add/remove components, add/destroy entities, etc.) while inside of <code>ForEach</code> lambda functions.  This negates the need for using <code>PostUpdateCommands</code> inside of ForEach.</li>
<li><code>EntityCommandBuffer</code> has some additional methods for adding components based on <code>ComponentType</code>, or for adding empty components of a certain type (<code>&lt;T&gt;</code>)</li>
<li>EntityManagerDiffer &amp; EntityManagerPatcher provides highly optimized diffing &amp; patching functionality. It is used in the editor for providing scene conversion live link.</li>
<li>Added support for <code>EntityManager.MoveEntitiesFrom</code> with managed arrays (Object Components).</li>
<li>EntityManager.SetArchetype lets you change an entity to a specific archetype. Removing &amp; adding the necessary components with default values. System state components are not allowed to be removed with this method, it throws an exception to avoid accidental system state removal. (Used in incremental live link conversion it made conversion from 100ms -&gt; 40ms for 1000 changed game objects)</li>
<li>Entity Debugger&#39;s system list now has a string filter field. This makes it easier to find a system by name when you have a lot of systems.</li>
<li>Added IComponentData type <code>Asset</code> that will be used by Tiny to convert Editor assets to runtime assets</li>
<li>Filled in some <code>&lt;T&gt;</code> holes in the overloads we provide in <code>EntityManager</code></li>
<li>New <code>Entities.WithIncludeAll()</code> that will include in matching all components that are normally ignored by default (currently <code>Prefab</code> and <code>Disabled</code>)</li>
<li>EntityManager.CopyAndReplaceEntitiesFrom has been added it can be used to store &amp; restore a backup of the world for the purposes of general purpose simulation rollback.</li>
</ul>
<h3 id="upgrade-guide-1">Upgrade guide</h3>
<ul>
<li>WorldDiff has been removed. It has been replaced by EntityManagerDiff &amp; EntityManagerPatch.</li>
<li>Renamed <code>EntityGroupManager</code> to <code>EntityQueryManager</code>.</li>
</ul>
<h3 id="changes-2">Changes</h3>
<ul>
<li>EntityArchetype.GetComponentTypes no longer includes Entity in the list of components (it is implied). Behaviour now matches the EntityMangager.GetComponentTypes method. This matches the behavior of the corresponding <code>EntityManager</code> function.</li>
<li><code>EntityCommandBuffer.AddComponent(Entity, ComponentType)</code> no longer fails if the target entity already has the specified component.</li>
<li>DestroyEntity(EntityQuery entityQuery) now uses burst internally.</li>
</ul>
<h3 id="fixes-2">Fixes</h3>
<ul>
<li>Entity Inspector now shows DynamicBuffer elements in pages of five at a time</li>
<li>Resources folder renamed to Styles so as not to add editor assets to built player</li>
<li><code>EntityQueryBuilder.ShallowEquals</code> (used from <code>Entities.ForEach</code>) no longer boxes and allocs GC</li>
<li>Improved error message for unnecessary/invalid <code>UpdateBefore</code> and <code>UpdateAfter</code></li>
<li>Fixed leak in BlobBuilder.CreateBlobAssetReference</li>
<li>ComponentSystems are now properly preserved when running the UnityLinker. Note this requires 19.3a10 to work correctly. If your project is not yet using 19.3 you can workaround the issue using the link.xml file. <a href="https://docs.unity3d.com/Manual//IL2CPP-BytecodeStripping.html">https://docs.unity3d.com/Manual//IL2CPP-BytecodeStripping.html</a></li>
<li>Types that trigger an exception in the TypeManager won&#39;t prevent other types from initializing properly.</li>
</ul>
<h2 id="0012-preview33---2019-05-24">[0.0.12-preview.33] - 2019-05-24</h2>
<h3 id="new-features-3">New Features</h3>
<ul>
<li><code>[DisableAutoCreation]</code> can now apply to entire assemblies, which will cause all systems contained within to be excluded from automatic system creation. Useful for test assemblies.</li>
<li>Added <code>ComponentSystemGroup.RemoveSystemFromUpdateList()</code></li>
<li><code>EntityCommandBuffer</code> has commands for adding/removing components, deleting entities and adding shared components based on an EntityQuery and its filter. Not available in the <code>Concurrent</code> version</li>
</ul>
<h3 id="changes-3">Changes</h3>
<ul>
<li>Generic component data types must now be registered in advance. Use [RegisterGenericComponentType] attribute to register each concrete use. e.g. <code>[assembly: RegisterGenericComponentType(typeof(TypeManagerTests.GenericComponent&lt;int&gt;))]</code></li>
<li>Attempting to call <code>Playback()</code> more than once on the same EntityCommandBuffer will now throw an error.</li>
<li>Improved error checking for <code>[UpdateInGroup]</code>, <code>[UpdateBefore]</code>, and <code>[UpdateAfter]</code> attributes</li>
<li>TypeManager no longer imposes alignment requirements on components containing pointers. Instead, it now throws an exception if you try to serialize a blittable component containing an unmanaged pointer, which suggests different alternatives.</li>
</ul>
<h3 id="fixes-3">Fixes</h3>
<ul>
<li>Fixed regression where accessing and destroying a blob asset in a burst job caused an exception</li>
<li>Fixed bug where entities with manually specified <code>CompositeScale</code> were not updated by <code>TRSLocalToWorldSystem</code>.</li>
<li>Error message when passing in invalid parameters to CreateSystem() is improved.</li>
<li>Fixed bug where an exception due to aggressive pointer restrictions could leave the <code>TypeManager</code> in an invalid state</li>
<li>SceneBoundingVolume is now generated seperately for each subsection</li>
<li>SceneBoundingVolume no longer throws exceptions in conversion flow</li>
<li>Fixed regression where calling AddComponent(NativeArray<entity> entities, ComponentType componentType) could cause a crash.</entity></li>
<li>Fixed bug causing error message to appear in Inspector header when <code>ConvertToEntity</code> component was added to a disabled GameObject.</li>
</ul>
<h2 id="0012-preview32---2019-05-16">[0.0.12-preview.32] - 2019-05-16</h2>
<h3 id="new-features-4">New Features</h3>
<ul>
<li>Added BlobBuilder which is a new API to build Blob Assets that does not require preallocating one contiguous block of memory. The BlobAllocator is now marked obsolete.</li>
<li>Added versions of <code>IJobForEach</code> that support <code>DynamicBuffer</code>s<ul>
<li>Due to C# language constraints, these overloads needed different names. The format for these overloads follows the following structure:<ul>
<li>All job names begin with either <code>IJobForEach</code> or <code>IJobForEachEntity</code></li>
<li>All jobs names are then followed by an underscore <code>_</code> and a combination of letter corresponding to the parameter types of the job<ul>
<li><code>B</code> - <code>IBufferElementData</code></li>
<li><code>C</code> - <code>IComponentData</code></li>
<li><code>E</code> - <code>Entity</code> (<code>IJobForEachWithEntity</code> only)</li>
</ul>
</li>
<li>All suffixes for <code>WithEntity</code> jobs begin with <code>E</code></li>
<li>All data types in a suffix are in alphabetical order</li>
</ul>
</li>
<li>Here is the complete list of overloads:<ul>
<li><code>IJobForEach_C</code>, <code>IJobForEach_CC</code>, <code>IJobForEach_CCC</code>, <code>IJobForEach_CCCC</code>, <code>IJobForEach_CCCCC</code>, <code>IJobForEach_CCCCCC</code></li>
<li><code>IJobForEach_B</code>, <code>IJobForEach_BB</code>, <code>IJobForEach_BBB</code>, <code>IJobForEach_BBBB</code>, <code>IJobForEach_BBBBB</code>, <code>IJobForEach_BBBBBB</code></li>
<li><code>IJobForEach_BC</code>, <code>IJobForEach_BCC</code>, <code>IJobForEach_BCCC</code>, <code>IJobForEach_BCCCC</code>, <code>IJobForEach_BCCCCC</code>, <code>IJobForEach_BBC</code>, <code>IJobForEach_BBCC</code>, <code>IJobForEach_BBCCC</code>, <code>IJobForEach_BBCCCC</code>, <code>IJobForEach_BBBC</code>, <code>IJobForEach_BBBCC</code>, <code>IJobForEach_BBBCCC</code>, <code>IJobForEach_BBBCCC</code>, <code>IJobForEach_BBBBC</code>, <code>IJobForEach_BBBBCC</code>, <code>IJobForEach_BBBBBC</code></li>
<li><code>IJobForEachWithEntity_EB</code>, <code>IJobForEachWithEntity_EBB</code>, <code>IJobForEachWithEntity_EBBB</code>, <code>IJobForEachWithEntity_EBBBB</code>, <code>IJobForEachWithEntity_EBBBBB</code>, <code>IJobForEachWithEntity_EBBBBBB</code></li>
<li><code>IJobForEachWithEntity_EC</code>, <code>IJobForEachWithEntity_ECC</code>, <code>IJobForEachWithEntity_ECCC</code>, <code>IJobForEachWithEntity_ECCCC</code>, <code>IJobForEachWithEntity_ECCCCC</code>, <code>IJobForEachWithEntity_ECCCCCC</code></li>
<li><code>IJobForEachWithEntity_BC</code>, <code>IJobForEachWithEntity_BCC</code>, <code>IJobForEachWithEntity_BCCC</code>, <code>IJobForEachWithEntity_BCCCC</code>, <code>IJobForEachWithEntity_BCCCCC</code>, <code>IJobForEachWithEntity_BBC</code>, <code>IJobForEachWithEntity_BBCC</code>, <code>IJobForEachWithEntity_BBCCC</code>, <code>IJobForEachWithEntity_BBCCCC</code>, <code>IJobForEachWithEntity_BBBC</code>, <code>IJobForEachWithEntity_BBBCC</code>, <code>IJobForEachWithEntity_BBBCCC</code>, <code>IJobForEachWithEntity_BBBCCC</code>, <code>IJobForEachWithEntity_BBBBC</code>, <code>IJobForEachWithEntity_BBBBCC</code>, <code>IJobForEachWithEntity_BBBBBC</code></li>
<li>Note that you can still use <code>IJobForEach</code> and <code>IJobForEachWithEntity</code> as before if you&#39;re using only <code>IComponentData</code>.</li>
</ul>
</li>
</ul>
</li>
<li>EntityManager.SetEnabled API automatically enables &amp; disables an entity or set of entities. If LinkedEntityGroup is present the whole group is enabled / disabled. Inactive game objects automatically get a LinkedEntityGroup added so that EntityManager.SetEnabled works as expected out of the box.</li>
<li>Add <code>WithAnyReadOnly</code> and <code>WithAllReadyOnly</code> methods to EntityQueryBuilder to specify queries that filter on components with access type ReadOnly.</li>
<li>No longer throw when the same type is in a WithAll and ForEach delegate param for ForEach queries.</li>
<li><code>DynamicBuffer</code> CopyFrom method now supports another DynamicBuffer as a parameter.</li>
<li>Fixed cases that would not be handled correctly by the api updater.</li>
</ul>
<h3 id="upgrade-guide-2">Upgrade guide</h3>
<ul>
<li><p>Usages of BlobAllocator will need to be changed to use BlobBuilder instead. The API is similar but Allocate now returns the data that can be populated:</p>
<pre><code class="lang-csharp">ref var root = ref builder.ConstructRoot&lt;MyData&gt;();
var floatArray = builder.Allocate(3, ref root.floatArray);
floatArray[0] = 0; // root.floatArray[0] can not be used and will throw on access
</code></pre></li>
<li><p>ISharedComponentData with managed fields must implement IEquatable and GetHashCode</p>
</li>
<li>IComponentData and ISharedComponentData implementing IEquatable must also override GetHashCode</li>
</ul>
<h3 id="fixes-4">Fixes</h3>
<ul>
<li>Comparisons of managed objects (e.g. in shared components) now work as expected</li>
<li>Prefabs referencing other prefabs are now supported in game object entity conversion process</li>
<li>Fixed a regression where ComponentDataProxy was not working correctly on Prefabs due to a ordering issue.</li>
<li>Exposed GameObjectConversionDeclarePrefabsGroup for declaring prefab references. (Must happen before any conversion systems run)</li>
<li>Inactive game objects are automatically converted to be Disabled entities</li>
<li>Disabled components are ignored during conversion process. Behaviour.Enabled has no direct mapping in ECS. It is recommended to Disable whole entities instead</li>
<li>Warnings are now issues when asking for a GetPrimaryEntity that is not a game object that is part of the converted group. HasPrimaryEntity can be used to check if the game object is part of the converted group in case that is necessary.</li>
<li>Fixed a race condition in <code>EntityCommandBuffer.AddBuffer()</code> and <code>EntityCommandBuffer.SetBuffer()</code></li>
</ul>
<h2 id="0012-preview31---2019-05-01">[0.0.12-preview.31] - 2019-05-01</h2>
<h3 id="new-features-5">New Features</h3>
<h3 id="upgrade-guide-3">Upgrade guide</h3>
<ul>
<li>Serialized entities file format version has changed, Sub Scenes entity caches will require rebuilding.</li>
</ul>
<h3 id="changes-4">Changes</h3>
<ul>
<li>Adding components to entities that already have them is now properly ignored in the cases where no data would be overwritten. That means the inspectable state does not change and thus determinism can still be guaranteed.</li>
<li>Restored backwards compatibility for <code>ForEach</code> API directly on <code>ComponentSystem</code> to ease people upgrading to the latest Unity.Entities package on top of Megacity.</li>
<li>Rebuilding the entity cache files for sub scenes will now properly request checkout from source control if required.</li>
</ul>
<h3 id="fixes-5">Fixes</h3>
<ul>
<li><code>IJobForEach</code> will only create new entity queries when scheduled, and won&#39;t rely on injection anymore. This avoids the creation of useless queries when explicit ones are used to schedule those jobs. Those useless queries could cause systems to keep updating even though the actual queries were empty.</li>
<li>APIs changed in the previous version now have better obsolete stubs and upgrade paths.  All obsolete APIs requiring manual code changes will now soft warn and continue to work, instead of erroring at compile time.  These respective APIs will be removed in a future release after that date.</li>
<li>LODGroup conversion now handles renderers being present in a LOD Group in multipe LOD levels correctly</li>
<li>Fixed potential memory leak when disposing an EntityCommandBuffer after certain types of playback errors</li>
<li>Fixed an issue where chunk utilization histograms weren&#39;t properly clipped in EntityDebugger</li>
<li>Fixed an issue where tag components were incorrectly shown as subtractive in EntityDebugger</li>
<li>ComponentSystem.ShouldRunSystem() exception message now more accurately reports the most likely reason for the error when the system does not exist.</li>
</ul>
<h3 id="known-issues-1">Known Issues</h3>
<ul>
<li>It might happen that shared component data with managed references is not compared for equality correctly with certain profiles.</li>
</ul>
<h2 id="0012-preview30---2019-04-05">[0.0.12-preview.30] - 2019-04-05</h2>
<h3 id="new-features-6">New Features</h3>
<p>Script templates have been added to help you create new component types and systems, similar to Unity&#39;s built-in template for new MonoBehaviours. Use them via the Assets/Create/ECS menu.</p>
<h3 id="upgrade-guide-4">Upgrade guide</h3>
<p>Some APIs have been deprecated in this release:</p>
<p><a href="https://forum.unity.com/threads/api-deprecation-faq-0-0-23.636994/">API Deprecation FAQ</a></p>
<p>** Removed obsolete ComponentSystem.ForEach
** Removed obsolete [Inject]
** Removed obsolete ComponentDataArray
** Removed obsolete SharedComponentDataArray
** Removed obsolete BufferArray
** Removed obsolete EntityArray
** Removed obsolete ComponentGroupArray</p>
<h4 id="scriptbehaviourmanager-removal">ScriptBehaviourManager removal</h4>
<ul>
<li>The ScriptBehaviourManager class has been removed.</li>
<li>ComponentSystem and JobComponentSystem remain as system base classes (with a common ComponentSystemBase class)<ul>
<li>ComponentSystems have overridable methods OnCreateManager and OnDestroyManager. These have been renamed to OnCreate and OnDestroy.<ul>
<li>This is NOT handled by the obsolete API updater and will need to be done manually.</li>
<li>The old OnCreateManager/OnDestroyManager will continue to work temporarily, but will print a warning if a system contains them.</li>
</ul>
</li>
</ul>
</li>
<li>World APIs have been updated as follows:<ul>
<li>CreateManager, GetOrCreateManager, GetExistingManager, DestroyManager, BehaviourManagers have been renamed to CreateSystem, GetOrCreateSystem, GetExistingSystem, DestroySystem, Systems.<ul>
<li>These should be handled by the obsolete API updater.</li>
</ul>
</li>
<li>EntityManager is no longer accessed via GetExistingManager. There is now a property directly on World: World.EntityManager.<ul>
<li>This is NOT handled by the obsolete API updater and will need to be done manually.</li>
<li>Searching and replacing Manager<entitymanager> should locate the right spots. For example, world.GetExistingManager<entitymanager>() should become just world.EntityManager.</entitymanager></entitymanager></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ijobprocesscomponentdata-renamed-to-ijobforeach">IJobProcessComponentData renamed to IJobForeach</h4>
<p>This rename unfortunately cannot be handled by the obsolete API updater.
A global search and replace of IJobProcessComponentData to IJobForEach should be sufficient.</p>
<h4 id="componentgroup-renamed-to-entityquery">ComponentGroup renamed to EntityQuery</h4>
<p>ComponentGroup has been renamed to EntityQuery to better represent what it does.
All APIs that refer to ComponentGroup have been changed to refer to EntityQuery in their name, e.g. CreateEntityQuery, GetEntityQuery, etc.</p>
<h4 id="entityarchetypequery-renamed-to-entityquerydesc">EntityArchetypeQuery renamed to EntityQueryDesc</h4>
<p>EntityArchetypeQuery has been renamed to EntityQueryDesc</p>
<h3 id="changes-5">Changes</h3>
<ul>
<li>Minimum required Unity version is now 2019.1.0b9</li>
<li>Adding components to entities that already have them is now properly ignored in the cases where no data would be overwritten.</li>
<li>UNITY_CSHARP_TINY is now NET_DOTS to match our other NET_* defines</li>
</ul>
<h3 id="fixes-6">Fixes</h3>
<ul>
<li>Fixed exception in inspector when Script is missing</li>
<li>The presence of chunk components could lead to corruption of the entity remapping during deserialization of SubScene sections.</li>
<li>Fix for an issue causing filtering with IJobForEachWithEntity to try to access entities outside of the range of the group it was scheduled with.</li>
</ul>
<!-- Template for version sections
## [0.0.0-preview.0]

### New Features


### Upgrade guide


### Changes


### Fixes

### Known Issues
-->
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2019 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
